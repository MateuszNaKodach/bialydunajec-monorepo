<section>
  <div style="display: flex; justify-content: space-between;">
    <bda-admin-breadcrumbs
      [breadcrumbs]="['Zapisy na Obóz','Ustawienia zapisów']"
    ></bda-admin-breadcrumbs>
    <bda-admin-camp-edition-selection
      (campEditionIdSelected)="onCampEditionIdSelected($event)"
      [campEditionsObservable]="availableCampEditions"></bda-admin-camp-edition-selection>
  </div>
  <div
    id="camp-edition-preview"
    class="bda-admin-camp-registrations-settings__form"
    *ngIf="selectedCampRegistrations | async as campEdition"
  >
    <div class="bda-admin-panel-section-card--preview">
      <div style="display: flex; justify-content: space-between; align-items: center">
        <h2 style="font-weight: bold; margin: 0">{{RomanNumerals.numberToRoman(campEdition.campRegistrationsEditionId)}}
          Edycja
          Obozu</h2>
        <label class="preview-label">podgląd</label>
      </div>
      <nz-divider></nz-divider>
      <div>
        <h3><b>Czas trwania Obozu:</b> od {{campEdition.editionStartDate | date:'d.MM.yyyy'}} do
          {{campEdition.editionEndDate | date:'d.MM.yyyy' }}</h3>
      </div>
    </div>

    <div
      id="timer"
      class="bda-admin-panel-section-card"
      *ngIf="campEdition.campRegistrations as campRegistrations"
    >
      <h2 style="font-weight: bold">Przełącznik Czasowy</h2>
      <nz-divider></nz-divider>
      <div>
        <h3><b>Ustal czas trwania zapisów:</b></h3>
      </div>
    </div>

    <div
      id="statuses"
      class="bda-admin-panel-section-card"
      *ngIf="campEdition.campRegistrations as campRegistrations"
    >
      <h2 style="font-weight: bold">Status Zapisów</h2>
      <nz-divider></nz-divider>
      <div style="margin-bottom: 1rem;">
        <h4><b>Aktualny status zapisów:</b></h4>
        <div [ngSwitch]="campRegistrations.status" #statusTemplate style="text-align: center">
          <h3 *ngSwitchCase="'UNCONFIGURED_TIMER'" style="color: red;"><b>NIESKONFIGUROWANE</b></h3>
          <h3 *ngSwitchCase="'CONFIGURED_TIMER'" style="color: greenyellow;"><b>SKONFIGUROWANY PRZEŁĄCZNIK CZASOWY</b>
          </h3>
          <h3 *ngSwitchCase="'IN_PROGRESS'" style="color: green;"><b>W TRAKCIE</b></h3>
          <h3 *ngSwitchCase="'SUSPENDED'" style="color: yellow;"><b>WSTRZYMANE</b></h3>
          <h3 *ngSwitchCase="'FINISHED'" style="color: blueviolet;"><b>ZAKOŃCZONE</b></h3>
          <h3 *ngSwitchCase="'ARCHIVED'" style="color: sandybrown;"><b>ZARCHIWIZOWANE</b></h3>
        </div>
      </div>

      <h4><b>Dostępne akcje dla aktualnego statusu:</b></h4>
      <div style="text-align: center">
        <div *ngIf="campRegistrations.status == 'UNCONFIGURED_TIMER' || campRegistrations.status == 'CONFIGURED_TIMER'">
          <button nz-button nzType="primary" type="button">Rozpocznij teraz</button>
        </div>
        <div *ngIf="campRegistrations.status == 'IN_PROGRESS'">
          <button nz-button nzType="primary" type="button">Wstrzymaj</button>
        </div>
        <div *ngIf="campRegistrations.status == 'SUSPENDED'">
          <button nz-button nzType="primary" type="button">Przywróc po wstrzymaniu</button>
          <button nz-button nzType="primary" type="button">Zakończ</button>
        </div>
        <div *ngIf="campRegistrations.status == 'FINISHED'">
          <button nz-button nzType="primary" type="button">Przywróc po zakończeniu</button>
        </div>
      </div>
      <nz-alert
        nzType="info"
        nzMessage="Statusy Zapisów"
        [nzDescription]="campRegistrationStatusesDescription"
        nzShowIcon>
      </nz-alert>
      <ng-template #campRegistrationStatusesDescription>
        <p>Zapisy mogą przyjmować następujące statusy:</p>
        <p><b>NIESKONFIGUROWANE</b> - nie ustalono kiedy należy uruchomić zapisy</p>
        <p><b>SKONFIGUROWANY PRZEŁĄCZNIK CZASOWY</b> - zapisy rozpoczną się i skończą wg. ustalonych ram czasowych</p>
        <p><b>W TRAKCIE</b> - aktualnie aktywne zapisy. Zostały rozpoczęte ręcznie lub przez Przełącznik Czasowy</p>
        <p><b>WSTRZYMANE</b> - zapisy zostały zawieszone przez administratora. Aby kontunować konieczne jest ręczne
          przywrócenie</p>
        <p><b>ZAKOŃCZONE</b> - zapisy zostały zakończone ręcznie lub przez Przełącznik Czasowy, mogą zostać ręcznie
          przywrócone</p>
        <p><b>ZARCHIWIZOWANE</b> - status ostateczny, obóz został zakończony, a dane personalne uczestników
          zanonimizowane</p>
      </ng-template>
    </div>

  </div>
</section>
